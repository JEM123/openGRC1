function a(e,l,s,t){return s=parseInt(s),t=parseInt(t),{inactivityTimer:null,logoutTimer:null,lastKeepAlive:null,keepAliveThrottle:3e4,init(){this.resetInactivityTimer(),l.forEach(i=>{window.addEventListener(i,()=>this.resetInactivityTimer())}),window.addEventListener("resumeActivities",()=>this.resumeActivities())},resetInactivityTimer(){clearTimeout(this.inactivityTimer),clearTimeout(this.logoutTimer),this.inactivityTimer=null,this.logoutTimer=null;let i=Date.now();(!this.lastKeepAlive||i-this.lastKeepAlive>this.keepAliveThrottle)&&(e.$call("keepAlive"),this.lastKeepAlive=i),this.inactivityTimer=setTimeout(()=>{this.showInactivityModal()},s)},showInactivityModal(){if(t<1){e.$call("logout");return}this.$dispatch("open-modal",{id:"inactivityModal"}),this.$dispatch("start-logout-countdown"),this.logoutTimer=setTimeout(()=>{e.$call("logout")},t)},resumeActivities(){this.$dispatch("close-modal",{id:"inactivityModal"}),this.resetInactivityTimer()}}}export{a as default};
